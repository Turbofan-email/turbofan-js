(()=>{async function m(e="",r={}){try{let t=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!t.ok)throw new Error("Network response was not OK");return t.json()}catch(t){return console.error("There has been a problem with your fetch operation:",t),!1}}function l(e,r){let t=e.getAttribute("action"),o=new FormData(r).get("email");if(!o)return;let s=document.querySelector("#form-success"),a=document.querySelector("#form-error");m(t,{email:o}).then(c=>{c?s?(s.classList.remove("hidden"),e.reset()):console.log("Signup successful!",c):a&&a.classList.remove("hidden")})}var i=document.querySelector("#signUpForm");i&&i.addEventListener("submit",e=>{e.preventDefault(),l(i,e.target)});if(window.location.pathname==="/signup-confirmed/"){let e=window.location.search,t=new URLSearchParams(e).get("jwt"),n=document.querySelector("#confirmation-error");if(t&&formSettings.apiHost){let o=`${formSettings.apiHost}/v1/form/confirm/${t}`;m(o).then(s=>{s||n&&n.classList.remove("hidden")})}}})();
