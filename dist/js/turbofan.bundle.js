var o={apiHost:turbofanSettings.apiHost||"https://api.turbofan.email",confirmationPathname:turbofanSettings.confirmationPathname||"/signup-confirmed/",hiddenClass:turbofanSettings.hiddenClass||"turbofan-hidden"};async function i(t="",n={}){try{let e=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!e.ok)throw new Error("Network response was not OK");return e.json()}catch(e){return console.error("There has been a problem with your fetch operation:",e),!1}}function u(t,n){let e=t.getAttribute("action"),r=new FormData(n),s={};if(r.forEach((a,p)=>{s[p]=a}),!r.get("email"))return;let f=document.querySelector("#form-success"),l=document.querySelector("#form-error");i(e,s).then(a=>{a?f?(f.classList.remove(o.hiddenClass),t.reset()):console.log("Signup successful!",a):l&&l.classList.remove(o.hiddenClass)})}var c=document.querySelector("#signUpForm");c&&c.addEventListener("submit",t=>{t.preventDefault(),u(c,t.target)});if(o.confirmationPathname&&window.location.pathname===o.confirmationPathname){let t=window.location.search,e=new URLSearchParams(t).get("jwt"),r=document.querySelector("#confirmation-error");if(e&&o.apiHost){let s=`${o.apiHost}/v1/form/confirm/${e}`;i(s).then(m=>{m||r&&r.classList.remove(o.hiddenClass)})}}
